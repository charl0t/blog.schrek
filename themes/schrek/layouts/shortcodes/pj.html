{{/*
https://github.com/charl0t/blog.schrek

Dans le dossier de l'article,
il faut creer un dossier files/ pour y deposer les fichiers.

 Utilisation:
{{< pj />}}

*/}}

{{ $_hugo_config := `{ "version": 1 }` -}}
<div class="attachments-files uk-card uk-card-small uk-width-1-3@m uk-padding">
  <h3 class="attachments-files-titre">Téléchargement  <span uk-icon="icon: cloud-download;ratio:2"></span></h3> 
  <div class="attachments-files">
  {{- $filesName := "files" }}
  {{- if ne .Page.File.BaseFileName "index" }}
    {{- $filesName = printf "%s.files" .Page.File.BaseFileName }}
  {{- end}}
  {{- $fileDir := replace .Page.File.Dir "\\" "/" }}
  {{- $pattern := .Get "pattern" | default "" }}
  {{- range (readDir (printf "content/%s%s" .Page.File.Dir $filesName) ) }}
    <li>
      <a href="{{  (printf "%s%s/%s" $fileDir $filesName .Name) | relLangURL }}">{{.Name}}</a>
    </li>
  {{- end}}
  </div>
  {{- .Inner}}
</div>
