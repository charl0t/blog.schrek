<!doctype html><html lang=fr><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Blog qui parle de lecture et de web"><meta name=keywords content="hugo,html,lecture,web,shortcode"><title>Schrek.fr</title>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="My PWA"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")</script><meta property="og:url" content="https://schrek.fr/posts/2023/07/hugo-minify/"><meta property="og:site_name" content="Schrek.fr"><meta property="og:title" content="Hugo minification"><meta property="og:description" content='Hugo est rapide, mais on peut améliorer le chargement des ressources.
Les images Il faut utiliser des formats modernes comme webp et avoir un bon redimensionnement. J’utilise Gimps pour changer la taille et le format.
Sinon en ligne de commande:
$ cwebp -q 90 minifycss.png -o minifycss.webp Les CSS Les fichiers CSS sont placés directement dans /themes/VOTRETHEME/assets/css.
Dans mon partials/head.html, j ai:
{{ $css := resources.Get "css/uikit.min.css" | minify | resources.Fingerprint "sha512" }} <link href="{{ $css.RelPermalink }}" rel="stylesheet" integrity="{{ $css.Data.Integrity }}" crossorigin="anonymous"> {{ $css := resources.Get "css/styles.css" | minify | resources.Fingerprint "sha512" }} <link href="{{ $css.RelPermalink }}" rel="stylesheet" integrity="{{ $css.Data.Integrity }}" crossorigin="anonymous"> Récupère le fichier CSS, compresse(minify) et créer une empreinte pour vérifier les changements (ca évite de recharger dans le cache si c’est le même fichier)'><meta property="og:locale" content="fr_fr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-20T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-20T00:00:00+00:00"><meta property="article:tag" content="Shortcode"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Minify"><meta property="og:see_also" content="https://schrek.fr/posts/2024/3/commentaires/"><meta property="og:see_also" content="https://schrek.fr/posts/2024/2/katex/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/09/hugo-pwa/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-shortcode-bouton/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-et-nuages-de-tags/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-et-les-liens/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/07/hugo_galerie/"><link href=/css/uikit.min.min.74065b0cc0cc771b6d0c8cdd1571f95022330dbe057cfe7f5c22ddf003313c6715e6047ab88bb5766ca27342b6d7b572f78f0fa2110438c5a0edeb269788d553.css rel=stylesheet integrity="sha512-dAZbDMDMdxttDIzdFXH5UCIzDb4FfP5/XCLd8AMxPGcV5gR6uIu1dmyic0K217Vy948PohEEOMWg7esml4jVUw==" crossorigin=anonymous><link href=/css/styles.min.afcd884f8dd136efa1b96e7cda014003cf94c49f183f0ef14bd022c6177e966c32c7161005a9388651cb103eec51f4106a0aa012b8812a467a1429f3d13cddd1.css rel=stylesheet integrity="sha512-r82IT43RNu+huW582gFAA8+UxJ8YPw7xS9Aixhd+lmwyxxYQBak4hlHLED7sUfQQagqgEriBKkZ6FCnz0Tzd0Q==" crossorigin=anonymous></head><body><header><nav class="uk-navbar-container uk-navbar-transparent" uk-navbar><div class=uk-navbar-center><a class="uk-navbar-item uk-logo" href=https://schrek.fr/><h1 classe=uk-heading-small>Schrek.fr</h1></a><ul class=uk-navbar-nav><li><a href=/><span uk-icon="icon:home; ratio: 2"></span></a><div class=uk-navbar-subtitle>Home</div></li><li><a href=/pages/apropos/><span uk-icon="icon:info; ratio: 2"></span></a><div class=uk-navbar-subtitle>A Propos</div></li><li><a href=/wiki/><span uk-icon="icon:database; ratio: 2"></span></a><div class=uk-navbar-subtitle>Wiki</div></li><li><a href=/notes/><span uk-icon="icon:pencil; ratio: 2"></span></a><div class=uk-navbar-subtitle>Notes</div></li><li><a href=/pages/tagscloud/><span uk-icon="icon:hashtag; ratio: 2"></span></a><div class=uk-navbar-subtitle>Tags</div></li><li><a href=/pages/search/><span uk-icon="icon:search; ratio: 2"></span></a><div class=uk-navbar-subtitle>Recherche</div></li><li><a href=/index.xml><span uk-icon="icon:rss; ratio: 2"></span></a><div class=uk-navbar-subtitle>RSS</div></li></ul></div></nav><hr class=uk-divider-icon></header><main><div class="uk-container uk-background-muted uk-box-shadow-large uk-padding"><ol class=uk-breadcrumb><li><a href=/>home</a></li><li><a href=https://schrek.fr/posts>posts</a></li><li><a href=https://schrek.fr/posts/2023>2023</a></li><li><a href=https://schrek.fr/posts/2023/07>07</a></li><li><a href=https://schrek.fr/posts/2023/07/hugo-minify>hugo-minify</a></li></ol><article class=uk-article><h1 class=uk-article-title>Hugo minification</h1><p class=uk-article-meta>2023-07-20
<span class="labelcat uk-label"><a href=/categories/web>Web</a></span><br><i>Temps de lecture: 2 minutes.</i></p><p>Cet article fait partie de la série: <a href=https://schrek.fr//series/hugo>Hugo</a></p><br><p class=uk-text-lead><div class="uk-section uk-align-right"><div class="uk-card-small uk-card-default uk-card-body" uk-scrollspy="cls: uk-animation-slide-right; repeat: false"><h3 class=uk-card-title>Table des matières</h3><p class="toc uk-text-small"><nav id=TableOfContents><ul><li><a href=#les-images>Les images</a></li><li><a href=#les-css>Les CSS</a></li><li><a href=#les-js>Les JS</a></li><li><a href=#la-commande>La commande</a></li><li><a href=#liens>Liens</a></li></ul></nav></p></div></div><p>Hugo est rapide, mais on peut améliorer le chargement des ressources.</p><h2 id=les-images>Les images</h2><p>Il faut utiliser des formats modernes comme <a href=https://fr.wikipedia.org/wiki/WebP>webp</a> et avoir un bon redimensionnement.
J&rsquo;utilise <a href=https://www.gimp.org/>Gimps</a> pour changer la taille et le format.</p><p>Sinon en ligne de commande:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cwebp -q <span style=color:#ae81ff>90</span> minifycss.png -o minifycss.webp</span></span></code></pre></div><h2 id=les-css>Les CSS</h2><p>Les fichiers CSS sont placés directement dans <em>/themes/VOTRETHEME/assets/css</em>.</p><p>Dans mon <em>partials/head.html</em>, j ai:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;css/uikit.min.css&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>link</span>  <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span>  <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;css/styles.css&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>link</span>  <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span>  <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;</span></span></code></pre></div><p>Récupère le fichier CSS, compresse(minify) et créer une empreinte pour vérifier les changements (ca évite de recharger dans le cache si c&rsquo;est le même fichier)</p><p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;css/uikit.min.css&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span></span></span></code></pre></div>Hugo remplace les valeurs dans le <link><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>link</span>  <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span>  <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$css</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;</span></span></code></pre></div></p><h2 id=les-js>Les JS</h2><p>Les fichiers JS sont placés directement dans <em>/themes/VOTRETHEME/assets/js</em>.</p><p>Dans mon <em>partials/head.html</em>, j&rsquo;ai:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/uikit.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span><span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/uikit-icons.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/jquery.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/fuse.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/mark.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/jquery.mark.min.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Get</span> <span style=color:#e6db74>&#34;js/search.js&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>minify</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>resources</span><span style=color:#a6e22e>.Fingerprint</span> <span style=color:#e6db74>&#34;sha512&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>defer</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>integrity</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$js</span><span style=color:#a6e22e>.Data.Integrity</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>crossorigin</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;anonymous&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;</span></span></code></pre></div><p>Le principe est le même que pour le CSS.</p><h2 id=la-commande>La commande</h2><p>Pour finir, on va lancer cette commande pour créer le site.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ hugo --minify</span></span></code></pre></div></p><p>J&rsquo;ai testé le site sur <a href=https://pagespeed.web.dev/>https://pagespeed.web.dev/</a>.<figure><img src=/posts/2023/07/hugo-minify/bureau.webp width=300px></figure><figure><img src=/posts/2023/07/hugo-minify/mobile.webp width=300px></figure></p><p>J&rsquo;ai encore des améliorations à faire au niveau du <a href="https://pagespeed.web.dev/analysis/https-schrek-fr/3o81b3lct9?hl=fr&amp;form_factor=desktop">cache</a> (dans le rapport: <em>Diffusez des éléments statiques grâce à des règles de cache efficaces</em>), mais ça avance.</p><h2 id=liens>Liens</h2><p><a href=https://gohugo.io/hugo-pipes/minification/>https://gohugo.io/hugo-pipes/minification/</a></p><p><a href=https://digitaldrummerj.me/hugo-asset-pipeline/>https://digitaldrummerj.me/hugo-asset-pipeline/</a></p><p><a href=https://makewithhugo.com/minify-and-load-css-through-hugo/>https://makewithhugo.com/minify-and-load-css-through-hugo/</a></p></p></article><ul class=uk-pagination><li><a class=uk-link-heading href=https://schrek.fr/posts/2023/07/hugo_galerie/><span class=uk-margin-small-right uk-pagination-previous></span> Hugo et les galeries</a></li><li class=uk-margin-auto-left><a class=uk-link-heading href=https://schrek.fr/posts/2023/07/latex_liens/>Ressources pour Latex<span class=uk-margin-small-left uk-pagination-next></span></a></li></ul><hr class=uk-divider-icon><div class="uk-grid-small uk-child-width-auto" uk-grid><div><p class=uk-text-light><span uk-icon=icon:hashtag></span>TAGS</p><ul class="uk-list uk-display-inline-block"><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/shortcode/>Shortcode</a></li><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/hugo/>Hugo</a></li><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/minify/>Minify</a></li></ul><br><a href=https://ko-fi.com/Q5Q7LH0AN target=_blank><img height=36 style=border:0;height:36px src='https://storage.ko-fi.com/cdn/kofi2.png?v=3' border=0 alt='Buy Me a Beer at ko-fi.com'></a></div></div></div></main><footer><div class="uk-container uk-container-small uk-background-muted uk-margin-small-top uk-padding-small">2024 - Construit avec <a class=uk-link-muted href=https://gohugo.io/>Hugo</a> et de <a class=uk-link-muted href=https://getuikit.com/>UiKit</a></div></footer><script src=/js/uikit.min.min.b795e52a95a6766546e08686e5d002243ef20e0fb3c22c860b7bd2adb02129b7.js integrity="sha256-t5XlKpWmdmVG4IaG5dACJD7yDg+zwiyGC3vSrbAhKbc=" crossorigin=anonymous></script><script defer src=/js/uikit-icons.min.min.992015e15d0a403b809bb04d0599e2873818150584953ed5864664037c6b4333.js integrity="sha256-mSAV4V0KQDuAm7BNBZnihzgYFQWElT7VhkZkA3xrQzM=" crossorigin=anonymous></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script></body></html>