<!doctype html><html lang=fr><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Blog qui parle de lecture et de web"><meta name=keywords content="hugo,html,lecture,web,shortcode"><title>Schrek.fr</title>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="My PWA"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")</script><meta property="og:url" content="https://schrek.fr/posts/2023/05/hugo_les_commentaires/"><meta property="og:site_name" content="Schrek.fr"><meta property="og:title" content="Hugo et les commentaires"><meta property="og:description" content="Pas facile de choisir un systeme de commentaire pour Hugo, la facilitée c est Disqus avec un template interne.
Cactus Mon choix c’est dirigé vers cactus.chat, déjà pour la doc qui est facile d’accés et pour Matrix qui utilise un protocole ouvert (Wikipedia).
Installation C’est bien indiqué ici. The shortcode chat.html must be added to layouts/shortcodes/ and looks like this
YOUR-SITE-NAME Bien changer cette variable avec le nom de votre site"><meta property="og:locale" content="fr-fr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-20T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-20T00:00:00+00:00"><meta property="article:tag" content="Markdown"><meta property="article:tag" content="Html"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Cactus"><meta property="og:see_also" content="https://schrek.fr/posts/2024/3/commentaires/"><meta property="og:see_also" content="https://schrek.fr/posts/2024/2/katex/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/09/hugo-pwa/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-shortcode-bouton/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-et-nuages-de-tags/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/08/hugo-et-les-liens/"><meta property="og:see_also" content="https://schrek.fr/posts/2023/07/hugo_galerie/"><link href=/css/uikit.min.min.b924c44a28cc05c880d4953f5e2914f634adbe31063436d591eca0954542a19b69e81657f5b85a9a6bef3d5dd73ebabbac5fcae0aa876263e24f51bcbb6a99b9.css rel=stylesheet integrity="sha512-uSTESijMBciA1JU/XikU9jStvjEGNDbVkeyglUVCoZtp6BZX9bhammvvPV3XPrq7rF/K4KqHYmPiT1G8u2qZuQ==" crossorigin=anonymous><link href=/css/styles.min.c8d7b0257c6b4bd9eee28e099cdc9010c078e8211022eb81adb460c29fbc903bd3ab8addb1ba62eab594267abaf0898817e99271f31d46b3ddee644238900f32.css rel=stylesheet integrity="sha512-yNewJXxrS9nu4o4JnNyQEMB46CEQIuuBrbRgwp+8kDvTq4rdsbpi6rWUJnq68ImIF+mScfMdRrPd7mRCOJAPMg==" crossorigin=anonymous></head><body><header><div class="uk-container uk-container-xsmall uk-padding-small"><a href=https://schrek.fr/><h1 classe=uk-heading-small>Schrek.fr</h1></a><a href=https://schrek.fr/><h2>Mon super blog :)</h2></a><span uk-icon="icon: menu" class="menudroite uk-button uk-button-default uk-align-right" type=button uk-toggle="target: #offcanvas-overlay"></span><div id=offcanvas-overlay uk-offcanvas="overlay: true"><div class="uk-offcanvas-bar uk-background-primary"><button class=uk-offcanvas-close type=button uk-close></button><h3 class=barremenu>Menu</h3><nav><ul class=uk-iconnav><li><a href=/><span uk-icon="icon:home; ratio: 2"></span></a></li><li><a href=/pages/apropos/><span uk-icon="icon:info; ratio: 2"></span></a></li><li><a href=/pages/tagscloud/><span uk-icon="icon:hashtag; ratio: 2"></span></a></li><li><a href=/wiki/><span uk-icon="icon:database; ratio: 2"></span></a></li><li><a href=/index.xml><span uk-icon="icon:rss; ratio: 2"></span></a></li></ul></nav><hr class=uk-divider-icon><h3 class=barremenu><a href=https://schrek.fr//categories/>Categories</a></h3><li><a href=https://schrek.fr/categories/linux/>Linux</a></li><li><a href=https://schrek.fr/categories/lecture/>Lecture</a></li><li><a href=https://schrek.fr/categories/hugo/>Hugo</a></li><li><a href=https://schrek.fr/categories/raspberrypi/>RaspberryPi</a></li><li><a href=https://schrek.fr/categories/iot/>IoT</a></li><li><a href=https://schrek.fr/categories/latex/>Latex</a></li><li><a href=https://schrek.fr/categories/web/>Web</a></li><li><a href=https://schrek.fr/categories/film/>Film</a></li><li><a href=https://schrek.fr/categories/musique/>Musique</a></li><li><a href=https://schrek.fr/categories/wiki/>Wiki</a></li><li><a href=https://schrek.fr/categories/recette/>Recette</a></li><h3 class=barremenu><a href=https://schrek.fr//series/>Series</a></h3><li><a href=https://schrek.fr/series/pandas/>Pandas</a></li><li><a href=https://schrek.fr/series/hugo/>Hugo</a></li><li><a href=https://schrek.fr/series/raspberrypi/>RaspberryPi</a></li><li><a href=https://schrek.fr/series/domotique/>Domotique</a></li><li><a href=https://schrek.fr/series/esp32/>Esp32</a></li><li><a href=https://schrek.fr/series/latex/>Latex</a></li></div></div></div></header><main><div class="uk-container uk-background-muted uk-box-shadow-large uk-padding"><ol class=uk-breadcrumb><li><a href=/>home</a></li><li><a href=https://schrek.fr/posts>posts</a></li><li><a href=https://schrek.fr/posts/2023>2023</a></li><li><a href=https://schrek.fr/posts/2023/05>05</a></li><li><a href=https://schrek.fr/posts/2023/05/hugo_les_commentaires>hugo_les_commentaires</a></li></ol><article class=uk-article><h1 class=uk-article-title>Hugo et les commentaires</h1><p class=uk-article-meta>2023-05-20
<span class="labelcat uk-label"><a href=/categories/web>Web</a></span><br><i>Temps de lecture: 1 minutes.</i></p><p>Cet article fait partie de la série: <a href=https://schrek.fr//series/hugo>Hugo</a></p><br><p class=uk-text-lead><div class="uk-section uk-align-right"><div class="uk-card-small uk-card-default uk-card-body" uk-scrollspy="cls: uk-animation-slide-right; repeat: false"><h3 class=uk-card-title>Table des matières</h3><p class="toc uk-text-small"><nav id=TableOfContents><ul><li><a href=#cactus>Cactus</a></li><li><a href=#installation>Installation</a></li><li><a href=#matrix>Matrix</a></li><li><a href=#liens>Liens</a></li></ul></nav></p></div></div><figure class=imagearticle><img src=/posts/2023/05/hugo_les_commentaires/cactus.wepb width=200px></figure><p>Pas facile de choisir un systeme de commentaire pour <a href=https://gohugo.io/content-management/comments/>Hugo</a>, la facilitée c est <a href=https://disqus.com/>Disqus</a> avec un template <a href=https://gohugo.io/content-management/comments/#add-disqus>interne</a>.</p><h2 id=cactus>Cactus</h2><p>Mon choix c&rsquo;est dirigé vers <a href=https://cactus.chat/>cactus.chat</a>, déjà pour la doc qui est facile d&rsquo;accés et pour <a href=https://matrix.org/>Matrix</a> qui utilise un protocole ouvert (<a href=https://fr.wikipedia.org/wiki/Matrix_(protocole)>Wikipedia</a>).</p><h2 id=installation>Installation</h2><p>C&rsquo;est bien indiqué <a href=https://cactus.chat/docs/integrations/hugo/>ici</a>.
<em>The shortcode chat.html must be added to layouts/shortcodes/ and looks like this</em></p><div class=uk-alert-warning uk-alert><span uk-icon="icon: warning ; ratio:2"></span>
<a class=uk-alert-close uk-close></a><p class=bandeau>YOUR-SITE-NAME Bien changer cette variable avec le nom de votre site</p></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/javascript&#34;</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://latest.cactus.chat/cactus.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://latest.cactus.chat/style.css&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/css&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;comment-section&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#a6e22e>initComments</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>node</span><span style=color:#f92672>:</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;comment-section&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>defaultHomeserverUrl</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://matrix.cactus.chat:8448&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>serverName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;cactus.chat&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>siteName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&lt;YOUR-SITE-NAME&gt;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>commentSectionId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;{{ index .Params 0 }}&#34;</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;</span></span></code></pre></div><p>A fin de chaque post on ajoute ce shortcode au fichier md.</p><p>{{&lt; chat cactus-comments >}}</p><h2 id=matrix>Matrix</h2><p>Sur Linux j&rsquo;ai choisi <a href=https://schildi.chat/>schildi</a>, il y a pleins d&rsquo;autres <a href=https://matrix.org/clients/>clients</a>.</p><p>Après avoir crée un compte, on va discuter avec @cactusbot:cactus.chat et lui demander d&rsquo;enregistrer mon site :</p><div class=uk-alert-info uk-alert><span uk-icon="icon:  ; ratio:2"></span>
<a class=uk-alert-close uk-close></a><p class=bandeau>c&rsquo;est le nom que vous avez déclaré a la place de la variable YOUR-SITE-NAME</p></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>register schrek.fr    13:32
</span></span><span style=display:flex><span>Created site schrek.fr for you</span></span></code></pre></div><p>Ensuite, on retourne sur son site et on s&rsquo;enregistre dans la partie commentaire avec son identifiant Matrix (ça c&rsquo;est le mien: <em>@christ0phe:matrix.org</em> par exemple).</p><h2 id=liens>Liens</h2><p><a href=https://gohugo.io/content-management/comments/>https://gohugo.io/content-management/comments/</a></p><p><a href=https://cactus.chat/docs/integrations/hugo/>https://cactus.chat/docs/integrations/hugo/</a></p><p><a href=https://matrix.org/>https://matrix.org/</a></p><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script><link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><div id=comment-section></div><script>initComments({node:document.getElementById("comment-section"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"schrek.fr",commentSectionId:"cactus-comments"})</script></p></article><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//schrek-fr.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><ul class=uk-pagination><li><a class=uk-link-heading href=https://schrek.fr/posts/2023/05/hugo_shortcode_codepen/><span class=uk-margin-small-right uk-pagination-previous></span> Shortcode Codepen</a></li><li class=uk-margin-auto-left><a class=uk-link-heading href=https://schrek.fr/posts/2023/05/alias-emma---ava-glass/>Alias Emma - Ava Glass <span class=uk-margin-small-left uk-pagination-next></span></a></li></ul><hr class=uk-divider-icon><div class="uk-grid-small uk-child-width-auto" uk-grid><div><p class=uk-text-light><span uk-icon=icon:hashtag></span>TAGS</p><ul class="uk-list uk-display-inline-block"><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/markdown/>Markdown</a></li><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/html/>Html</a></li><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/hugo/>Hugo</a></li><li><a class="uk-button uk-button-default" href=https://schrek.fr/tags/cactus/>Cactus</a></li></ul><br><a href=https://ko-fi.com/Q5Q7LH0AN target=_blank><img height=36 style=border:0;height:36px src='https://storage.ko-fi.com/cdn/kofi2.png?v=3' border=0 alt='Buy Me a Beer at ko-fi.com'></a></div></div></div></main><footer><div class="uk-container uk-container-small uk-background-muted uk-margin-small-top uk-padding-small">2024 - Construit avec <a class=uk-link-muted href=https://gohugo.io/>Hugo</a> et de <a class=uk-link-muted href=https://getuikit.com/>UiKit</a></div></footer><script src=/js/uikit.min.min.6b4741df9ca63b1e177fc1d9ef5ba017a37a63f6a3515ab84d9e4e2f51a708fa.js integrity="sha256-a0dB35ymOx4Xf8HZ71ugF6N6Y/ajUVq4TZ5OL1GnCPo=" crossorigin=anonymous></script><script defer src=/js/uikit-icons.min.min.3ec067d2be0049ec3aeadb26bee214a6700dac475b797cbfd59a0a8cf6fdde8b.js integrity="sha256-PsBn0r4ASew66tsmvuIUpnANrEdbeXy/1ZoKjPb93os=" crossorigin=anonymous></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script></body></html>